{# templates/buildadvisor.html #}
{% extends "base.html" %}

{% block title %}Conserv BuildAdvisor — AI BOM{% endblock %}

{% block content %}
  <header><h1>Conserv BuildAdvisor — AI BOM</h1></header>

  <section class="card">
    <h2>Chat</h2>
    <div id="chat" class="chat"></div>
    <div class="row chat-input">
      <input id="msg" type="text" placeholder="e.g., Driveway 12x20 ft, 4 inch thick"/>
      <button id="send">Send</button>
    </div>
    <p class="hint">
      This version asks AI to propose a bill of materials first, then prices only items you have in your CSVs (./data).
    </p>
  </section>

  <section class="card" id="results" style="display:none;">
    <h2>Materials & Pricing</h2>
    <table id="bom">
      <thead>
        <tr><th>Item</th><th>Qty</th><th>Unit</th><th>Unit Price</th><th>Total</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="total" id="total"></div>
    <div id="notes" class="notes"></div>
  </section>
{% endblock %}

{# Load BuildAdvisor-only assets #}
{% block page_scripts %}
  <script src="{{ url_for('static', filename='app.js', v=ts) }}"></script>
{% endblock %}

{% block page_styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css', v=ts) }}">
{% endblock %}
